(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(6),s=r.n(o),c=(r(12),r(1)),u=r(2),i=r(4),l=r(3),v=function(e){switch(e){case 2:case 4:return"#776e65"}return"white"},f=function(e){switch(e){case 2:return"#EBDCD0";case 4:return"#E9DBBA";case 8:return"#E9A067";case 16:return"#F08151";case 32:return"#F2654F";case 64:return"#F1462C";case 128:return"#ecce72";case 256:return"#eccb61";case 512:return"#ecc750";case 1024:return"#ecc440";case 2048:return"#ecc12e";case 4096:return"#ef676c";case 8192:return"#ec4d58";case 16384:return"#e14339";case 32768:return"#71b4d5";case 65536:return"#5da0df";case 131072:return"#007cbe"}},d=function(e){return 0!==e.data.value?n.a.createElement("div",{className:"cell",style:{color:v(e.data.value),background:f(e.data.value)}}," ",e.data.value):n.a.createElement("div",{className:"cell",style:{background:"#cdc1b4"}})},m=function(e){var t=e.cells.map((function(e,t){return n.a.createElement(d,{key:t,data:e})}));return n.a.createElement("div",{className:"row"},t)},h=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).reset=function(){a.setState({rows:a.createGrid(a.props),status:"active"})},a.createGrid=function(e){console.log("Start");for(var t=[],r=0;r<e.rows;r++){t.push([]);for(var a=0;a<e.columns;a++)t[r].push({x:a,y:r,value:0})}for(var n=0;n<2;n++){var o=void 0;do{var s=Math.floor(Math.random()*e.rows),c=Math.floor(Math.random()*e.columns);o=t[s][c]}while(o.value>0);0===o.value&&(o.value=2*Math.floor(2*Math.random()+1))}return t},a.getEmptyGrid=function(){for(var e=[],t=0;t<a.props.rows;t++){e.push([]);for(var r=0;r<a.props.columns;r++)e[t].push({x:r,y:t,value:0})}return e},a.slide=function(e){for(var t=[],r=0;r<4;r++)t[r]=e[r].value;var a=t.filter((function(e){return e})),n=4-a.length;a=Array(n).fill(0).concat(a);for(var o=0;o<4;o++)e[o].value=a[o];return e},a.combine=function(e){for(var t=3;t>=1;t--){var r=e[t].value,n=e[t-1].value;r===n&&(e[t].value=r+n,a.props.score(e[t].value),e[t-1].value=0)}return e},a.flip=function(e){for(var t=0;t<4;t++)e[t].reverse();return e},a.rotate=function(e){for(var t=a.getEmptyGrid(),r=0;r<4;r++)for(var n=0;n<4;n++)t[r][n]=e[n][r];return t},a.placeRandom=function(){var e,t,r,n=a.state.rows;do{e=Math.floor(Math.random()*a.props.rows),t=Math.floor(Math.random()*a.props.columns),r=n[e][t]}while(r.value>0);0===r.value&&(r.value=2*Math.floor(2*Math.random()+1)),n[e][t]=r,a.setState({rows:n})},a.doSlide=function(e){for(var t=0;t<4;t++)e[t]=a.slide(e[t]),e[t]=a.combine(e[t]),e[t]=a.slide(e[t]);return e},a.isGameOver=function(){for(var e=a.state.rows,t=0;t<4;t++)for(var r=0;r<4;r++){if(0==e[t][r].value)return;if(3!==t&&e[t][r].value===e[t+1][r].value)return;if(3!==r&&e[t][r].value===e[t][r+1].value)return}a.props.gameOver()},a.isGameWon=function(){for(var e=a.state.rows,t=0;t<4;t++)for(var r=0;r<4;r++)"active"===a.state.status&&2048==e[t][r]&&(a.props.gameWon(),a.setState({status:"endless"}))},a.onKeyPressed=function(e){var t=a.state.rows,r=JSON.stringify(t),n=!1,o=!1;switch((e=e||window.event).keyCode){case 39:case 68:case 99:t=a.doSlide(t);break;case 37:case 65:case 97:t=a.flip(t),t=a.doSlide(t),n=!0;break;case 40:case 83:case 98:t=a.rotate(t),t=a.doSlide(t),o=!0;break;case 38:case 87:case 101:t=a.rotate(t),t=a.flip(t),t=a.doSlide(t),o=!0,n=!0}n&&(t=a.flip(t)),o&&(t=a.rotate(t),t=a.rotate(t),t=a.rotate(t)),a.setState({rows:t}),JSON.stringify(t)!==r&&a.placeRandom(),a.isGameOver()},a.state={rows:a.createGrid(e),status:"active"},a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){document.onkeydown=this.onKeyPressed}},{key:"render",value:function(){var e=this.state.rows.map((function(e,t){return n.a.createElement(m,{cells:e,key:t})}));return n.a.createElement("div",{className:"grid"},e)}}]),r}(a.Component),p=(r(13),function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this)).setScore=function(e){var t=n.state.score+e;n.setState({score:t})},n.gameOver=function(){},n.gameWon=function(){console.log("Won")},n.state={rows:4,columns:4,score:0},n.gridRef=Object(a.createRef)(),n}return Object(u.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"grid"},n.a.createElement(h,{ref:this.gridRef,score:this.setScore.bind(this),gameOver:this.gameOver.bind(this),gameWon:this.gameWon.bind(this),rows:this.state.rows,columns:this.state.columns})),n.a.createElement("div",{className:"score"},n.a.createElement("p",null,this.state.score," ")))}}]),r}(a.Component));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null)),document.getElementById("root"))},7:function(e,t,r){e.exports=r(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.7df948bd.chunk.js.map