(this.webpackJsonp2048game=this.webpackJsonp2048game||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),o=a.n(s),c=(a(12),a(1)),i=a(2),u=a(4),l=a(3),m=function(e){switch(e){case 0:return"#ffffff00";case 2:case 4:return"#776e65"}return"white"},v=function(e){switch(e){case 0:return"#cdc1b4";case 2:return"#EBDCD0";case 4:return"#E9DBBA";case 8:return"#E9A067";case 16:return"#F08151";case 32:return"#F2654F";case 64:return"#F1462C";case 128:return"#ecce72";case 256:return"#eccb61";case 512:return"#ecc750";case 1024:return"#ecc440";case 2048:return"#ecc12e";case 4096:return"#ef676c";case 8192:return"#ec4d58";case 16384:return"#e14339";case 32768:return"#71b4d5";case 65536:return"#5da0df";case 131072:return"#007cbe"}},d=function(e){return r.a.createElement("div",{className:"cell",style:{color:m(e.data.value),background:v(e.data.value)}}," ",e.data.value)},f=function(e){var t=e.cells.map((function(e,t){return r.a.createElement(d,{key:t,data:e})}));return r.a.createElement("div",{className:"row"},t)},p=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).reset=function(){n.setState({rows:n.createGrid(n.props),status:"active"})},n.createGrid=function(e){for(var t=[],a=0;a<e.rows;a++){t.push([]);for(var n=0;n<e.columns;n++)t[a].push({x:n,y:a,value:0})}for(var r=0;r<2;r++){var s=void 0;do{var o=Math.floor(Math.random()*e.rows),c=Math.floor(Math.random()*e.columns);s=t[o][c]}while(s.value>0);0===s.value&&(s.value=2*Math.floor(2*Math.random()+1))}return t},n.getEmptyGrid=function(){for(var e=[],t=0;t<n.props.rows;t++){e.push([]);for(var a=0;a<n.props.columns;a++)e[t].push({x:a,y:t,value:0})}return e},n.slide=function(e){for(var t=[],a=0;a<4;a++)t[a]=e[a].value;var n=t.filter((function(e){return e})),r=4-n.length;n=Array(r).fill(0).concat(n);for(var s=0;s<4;s++)e[s].value=n[s];return e},n.combine=function(e){for(var t=3;t>=1;t--){var a=e[t].value,r=e[t-1].value;a===r&&(e[t].value=a+r,n.props.score(e[t].value),e[t-1].value=0)}return e},n.flip=function(e){for(var t=0;t<4;t++)e[t].reverse();return e},n.rotate=function(e){for(var t=n.getEmptyGrid(),a=0;a<4;a++)for(var r=0;r<4;r++)t[a][r]=e[r][a];return t},n.placeRandom=function(){var e,t,a,r=n.state.rows;do{e=Math.floor(Math.random()*n.props.rows),t=Math.floor(Math.random()*n.props.columns),a=r[e][t]}while(a.value>0);0===a.value&&(a.value=2*Math.floor(2*Math.random()+1)),r[e][t]=a,n.setState({rows:r})},n.doSlide=function(e){for(var t=0;t<4;t++)e[t]=n.slide(e[t]),e[t]=n.combine(e[t]),e[t]=n.slide(e[t]);return e},n.isGameOver=function(){for(var e=n.state.rows,t=0;t<4;t++)for(var a=0;a<4;a++){if(0===e[t][a].value)return;if(3!==t&&e[t][a].value===e[t+1][a].value)return;if(3!==a&&e[t][a].value===e[t][a+1].value)return}n.props.gameOver()},n.isGameWon=function(){for(var e=n.state.rows,t=0;t<4;t++)for(var a=0;a<4;a++)"active"===n.state.status&&2048===e[t][a].value&&(n.props.gameWon(),n.setState({status:"endless"}))},n.onKeyPressed=function(e){var t=n.state.rows,a=JSON.stringify(t),r=!1,s=!1;switch((e=e||window.event).keyCode){case 39:case 68:case 99:t=n.doSlide(t);break;case 37:case 65:case 97:t=n.flip(t),t=n.doSlide(t),r=!0;break;case 40:case 83:case 98:t=n.rotate(t),t=n.doSlide(t),s=!0;break;case 38:case 87:case 101:t=n.rotate(t),t=n.flip(t),t=n.doSlide(t),s=!0,r=!0}r&&(t=n.flip(t)),s&&(t=n.rotate(t),t=n.rotate(t),t=n.rotate(t)),n.setState({rows:t}),JSON.stringify(t)!==a&&n.placeRandom(),n.isGameOver(),n.isGameWon()},n.state={rows:n.createGrid(e),status:"active"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.onkeydown=this.onKeyPressed}},{key:"render",value:function(){var e=this.state.rows.map((function(e,t){return r.a.createElement(f,{cells:e,key:t})}));return r.a.createElement("div",{className:"grid"},e)}}]),a}(n.Component),h=(a(13),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement("div",{className:"winningMain"}," "),r.a.createElement("div",{className:"winningContent"},r.a.createElement("h1",null,"You win!"),r.a.createElement("div",{id:"buttonHolder"},r.a.createElement("button",{className:"boxButton",onClick:this.props.onClose},"Keep going!"),r.a.createElement("button",{className:"boxButton",onClick:this.props.onNewGame},"Try again!"))));return this.props.isOpen||(e=null),r.a.createElement("div",null,e)}}]),a}(n.Component)),b=(a(14),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement("div",{className:"losingMain"}," "),r.a.createElement("div",{className:"losingContent"},r.a.createElement("h1",null,"Game over!"),r.a.createElement("div",{id:"buttonHolder"},r.a.createElement("button",{className:"boxButton",onClick:this.props.onClose},"Back"),r.a.createElement("button",{className:"boxButton",onClick:this.props.onNewGame},"Try again!"))));return this.props.isOpen||(e=null),r.a.createElement("div",null,e)}}]),a}(n.Component)),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this)).setScore=function(e){var t=r.state.score+e;r.setState({score:t})},r.gameOver=function(){r.setState({isLosingBox:!0})},r.gameWon=function(){r.setState({isWinningBox:!0})},r.resetGame=function(){r.gridRef.current.reset(),r.setState({score:0,isWinningBox:!1,isLosingBox:!1})},r.state={rows:4,columns:4,score:0,isWinningBox:!1,isLosingBox:!1},r.gridRef=Object(n.createRef)(),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},"2048"),r.a.createElement("div",{className:"score"},r.a.createElement("p",{id:"scoreTitle"},"Score"),r.a.createElement("p",{id:"scoreNum"},this.state.score," ")),r.a.createElement("div",{className:"newGame"},r.a.createElement("button",{id:"newGameButton",onClick:this.resetGame},"New game"))),r.a.createElement("div",{className:"gridMain"},r.a.createElement(p,{ref:this.gridRef,score:this.setScore.bind(this),gameOver:this.gameOver.bind(this),gameWon:this.gameWon.bind(this),rows:this.state.rows,columns:this.state.columns}),r.a.createElement(h,{isOpen:this.state.isWinningBox,onClose:function(t){return e.setState({isWinningBox:!1})},onNewGame:this.resetGame}),r.a.createElement(b,{isOpen:this.state.isLosingBox,onClose:function(t){return e.setState({isLosingBox:!1})},onNewGame:this.resetGame})))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.ec885b7a.chunk.js.map